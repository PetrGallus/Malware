# Postup - tvorba HELLO_WORLD v Assembly
## 1. Zdrojovy kod
1. vytvoreni programu: `vim hello_world.asm`
    - komentare
        ![](https://hackmd.io/_uploads/Ska6Ob-sh.png)
    - sekce
        - section .data:
            ![](https://hackmd.io/_uploads/S14UYW-in.png)
            - **message** = promenna
            - **db** = define bytes
            - **equ** = equal to -> message_length bude stejna jako samotna zprava
            - **$-** = nasm syntaxe pro delku promenne
            - **0xA**
                - co je 0xA jako char?
                    - ![](https://hackmd.io/_uploads/ryoec--sn.png)
         - section .text:
            ![](https://hackmd.io/_uploads/SyRFKWZsn.png)
            - **mov eax, 0x4** = move registr eax (intel), 0x4 je syscall pro write
                ![](https://hackmd.io/_uploads/S1CxIGbsh.png)
                    - **unistd_32.h**
                        - defaultni cesta: `/usr/include/asm/unistd_32.h`
            - **mov ebx, 1** = move 
                ![](https://hackmd.io/_uploads/SkfJvMZsn.png)
                    ***ebx = bude nas file descriptor
                    ecx = bude nas buffer
                    edx = bude nas count***
            - int 0x80 = interrupt for running a syscall
    - ukonceni programu
        ![](https://hackmd.io/_uploads/HkB4uG-jn.png)
    - start
        ![](https://hackmd.io/_uploads/rJd1FfWi3.png)
            - globalni promenna start a jeji vyvolani uvnitr sekce .text
            
**Cely kod:**
```
; hello_world.asm

; Subject:  9sem__Vyvoj_a_nasazeni_Malware
; Date:     28-Jul-2023 

global _start

section .text:
_start:
    mov eax, 0x4            ; pouziti syscallu write
    mov ebx, 1              ; pouziti stdout jako fd
    mov ecx, message        ; pouziti message jako bufferu
    mov edx, message_length ; definovani delky zpravy
    int 0x80                ; invoke syscallu

    mov eax, 0x1
    mov ebx, 0
    int 0x80

section .data:
    message: db "HELLO WORLD! :)", 0xA
    message_length equ $-message
```
## 2. Kompilace kodu
- pomoci nasm (Netwide ASseMbler)
    - `nasm -f elf32 -o hello_world.o hello_world.asm`
        - -f = specifikuje, ze chceme generovat nejaky output format naseho assembled kodu
        - elf32 = Executable and Linkable Format 32-bit
        - -o = output file (.o jako object file)
        - hello_world.o = zvoleny nazev output kompilovaneho souboru
        - hello_world.asm = zdrojovy kod (input file)
    - ls
        ![](https://hackmd.io/_uploads/HkhuiMZjh.png)
## 3. Spustitelna verze
- pomoci ld
    - ld -m elf_i386 -o hello_world hello_world.o
    - ls
        ![](https://hackmd.io/_uploads/rkcVnM-j3.png)
    - spusteni kodu
        - ./hello_world
            ![](https://hackmd.io/_uploads/HkuOhfbi3.png)


